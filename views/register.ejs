<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Register</title>
    <link rel="stylesheet" href="/stylesheets/style.css">
</head>
<body>
    <%- include('partials/header') %>

    <div class="container">
        <div class="column side">
            <nav>
                <ul>
                    <li class="nav-item"><a href="/home">Home page</a></li>
                    <li class="nav-item"><a href="/find">Find a cat/dog</a></li>
                    <li class="nav-item"><a href="/dogcare">Dog Care</a></li>
                    <li class="nav-item"><a href="/catcare">Cat Care</a></li>
                    <li class="nav-item"><a href="/register">Create an Account</a></li>
                    <li class="nav-item"><a href="/donate">Have a pet to give away</a></li>
                    <li class="nav-item"><a href="/contact">Contact Us</a></li>
                    <li class="nav-item"><a href="/logout">LogOut</a></li>
                </ul>
            </nav>
        </div>

        <main class="column middle">
            <h2>Register</h2>
            <form action="/register" method="POST" onsubmit="return validateForm()">
                <label for="username">Username:</label>
                <input type="text" id="username" name="username" required><br>
                <label for="password">Password:</label>
                <input type="password" id="password" name="password" required><br>
                <button type="submit">Register</button>
            </form>
            <p>Username can contain letters (both upper and lower case) and digits only.</p>
            <p>Password must be at least 4 characters long, have at least one letter and at least one digit.</p>
        </main>
    </div>

    <%- include('partials/footer') %>

    <script>
        function validateForm() {
            const username = document.getElementById('username').value;
            const password = document.getElementById('password').value;
            const usernameRegex = /^[a-zA-Z0-9]+$/;
            const passwordRegex = /^(?=.*[a-zA-Z])(?=.*\d)[a-zA-Z\d]{4,}$/;

            if (!usernameRegex.test(username)) {
                alert('Username can only contain letters and digits.');
                return false;
            }

            if (!passwordRegex.test(password)) {
                alert('Password must be at least 4 characters long and contain at least one letter and one digit.');
                return false;
            }

            return true;
        }
    </script>
</body>
</html>
